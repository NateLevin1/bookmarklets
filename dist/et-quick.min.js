const encode=e=>btoa(e.split("").reverse().join("")),decode=e=>atob(e).split("").reverse().join("");let autoAdvance=!1,autoMute=!1,lastClickedNextActivity=0;function getRefs(){var e=document.querySelector(decode("ZW1hckZlZ2F0cyNlbWFyZmk=")),t=e.contentWindow;return{iframe:e,frameWindow:t,frameDocument:t.document,API:t.API}}function getPreviewDocument(){var e=getRefs().frameDocument.querySelector(decode("d2VpdmVyUGVtYXJGaSNlbWFyZmk="));return e?e.contentWindow.document:null}function createSidebar(){var e=document.querySelector("#eq-sidebar");e&&(console.warn("ðŸš€ Et Quick has already been loaded on this page."),e.remove());const t=document.createElement("div"),o=(t.style.position="fixed",t.style.top="42px",t.style.left="0",t.style.width="200px",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.color="white",t.style.zIndex="100000",t.id="eq-sidebar",t.innerHTML=`
    <h1>ðŸš€ Et Quick</h1>
    <button id="eq-toggle-visible">Hide</button>
    <h2>Settings</h2>
    <button id="eq-autoadvance">Enable Auto-Advance</button>
    <button id="eq-automute">Enable Auto-Mute</button>
    <h2>Lookups</h2>
    <button id="eq-lookup-g">Lookup G</button>
    <button id="eq-lookup-b">Lookup Br</button>
    <button id="eq-lookup-c">Lookup Ch</button>
    <style>
        .eq-sidebar {
            padding: 10px;
            overflow: hidden;
        }
        .eq-sidebar h1 {
            font-size: 24px;
        }
        .eq-sidebar h2 {
            font-size: 20px;
            margin-top: 12px;
        }
        .eq-sidebar button {
            background: white;
            border-radius: 4px;
            font-size: 16px;
            border: none;
            padding: 2px 6px;
            border: 1px solid rgb(221,221,221);
            display: block;
            margin-top: 10px;
        }
        .eq-sidebar button:hover {
            background: rgb(245,245,245);
        }
        .eq-sidebar button:active {
            color:white;
            background: linear-gradient(rgb(74,144,254), rgb(7,92,229));
            border-color: rgb(31,110,240);
            border-top-color: rgb(57,133,255);
            border-bottom-color: rgb(2, 86, 224);
        }
    </style>`,t.classList.add("eq-sidebar"),document.body.appendChild(t),t.querySelector("#eq-toggle-visible"));let n=!0;o.onclick=()=>{n=!n,t.style.height=n?"100%":"80px",o.textContent=n?"Hide":"Show"};const a=t.querySelector("#eq-autoadvance"),c=(a.onclick=()=>{autoAdvance=!autoAdvance,a.textContent=autoAdvance?"Disable Auto-Advance":"Enable Auto-Advance"},t.querySelector("#eq-automute"));c.onclick=()=>{autoMute=!autoMute,c.textContent=autoMute?"Disable Auto-Mute":"Enable Auto-Mute"};var e=t.querySelector("#eq-lookup-g"),i=t.querySelector("#eq-lookup-b"),r=t.querySelector("#eq-lookup-c");const l=e=>{var t=getPreviewDocument();t&&(t=t.querySelector(decode("XWRpcVt2aWQ="))??t.querySelector("form")??t.querySelector("div#main")??t.querySelector("div.content"),t=encodeURIComponent(t.innerText.trim()),window.open(e+t,"_blank"))};e.onclick=()=>l(decode("PXE/aGNyYWVzL21vYy5lbGdvb2cud3d3Ly86c3B0dGg=")),i.onclick=()=>l(decode("PXE/a3NhL3BwYS9tb2MueWxuaWFyYi8vOnNwdHRo")),r.onclick=()=>l(decode("PXE/L21vYy50cGd0YWhjLy86c3B0dGg="))}function playBeep({frequency:e=440,duration:t=1,attack:o=.1,decay:n=.1,sustain:a=.7,release:c=.2}={}){var i=new(window.AudioContext||window.webkitAudioContext),r=i.createOscillator(),l=i.createGain(),e=(r.type="sine",r.frequency.setValueAtTime(e,i.currentTime),r.connect(l),l.connect(i.destination),i.currentTime);l.gain.setValueAtTime(0,e),l.gain.linearRampToValueAtTime(1,e+o),l.gain.linearRampToValueAtTime(a,e+o+n),l.gain.setValueAtTime(a,e+t-c),l.gain.linearRampToValueAtTime(0,e+t),r.start(e),r.stop(e+t)}function removeIVODiv(){var e=getRefs().frameDocument.querySelector(decode("dmlkLW8tc2l2bmkj"));e&&"none"!==e.style.pointerEvents&&(console.log("ðŸš€ Et Quick - Removing IVO Div"),e.style.pointerEvents="none")}function autoMuteElements(){if(autoMute){var e=getRefs().frameDocument;for(const t of[...e.querySelectorAll("video"),...e.querySelectorAll("audio")])0!=t.volume&&(console.log("ðŸš€ Et Quick - Muting audio"),t.volume=0)}}function advanceIfCan(){var e,t,o;autoAdvance&&(e=getRefs().API)[decode("ZW1hckY=")]&&e[decode("bmlhaENlbWFyRg==")]&&(t=e[decode("ZW1hckY=")].isComplete(),e[decode("bmlhaENlbWFyRg==")].isComplete()?(o=document.querySelector(decode("dGhnaVJvZy5h")))&&!o.classList.contains("disabled")&&3e3<Date.now()-lastClickedNextActivity&&(console.log("ðŸš€ Et Quick - Auto-advancing to next activity"),o.click(),lastClickedNextActivity=Date.now()):t&&("block"==getRefs().frameDocument.querySelector("div#frame_video_controls")?.style?.display&&autoMute&&setTimeout(()=>{"block"!=getRefs().frameDocument.querySelector("div#frame_video_controls")?.style?.display&&(console.log("ðŸš€ Et Quick - Playing beep sound"),playBeep({frequency:440,duration:.25,attack:.05,decay:.1,sustain:.1,release:.2}))},600),console.log("ðŸš€ Et Quick - Auto-advancing to next frame"),e[decode("bmlhaENlbWFyRg==")].nextFrame()))}function showSampleResponse(){var e=getPreviewDocument();e&&(e=e.querySelector(decode("XSI7ZW5vbjp5YWxwc2lkIj1lbHl0c1t2aWQgbm11bG9jLXRoZ2lyLg==")))&&(e.style.display="block",console.log("ðŸš€ Et Quick - Showing sample response"))}createSidebar(),setInterval(()=>{removeIVODiv(),autoMuteElements(),advanceIfCan(),showSampleResponse()},100);