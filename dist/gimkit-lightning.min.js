let answers=null,room=null;const decoder=new TextDecoder("utf-8"),onWsMessage=function(e){var e=e["data"],t=decoder.decode(e),n=JSON.stringify(t,null,2);if(t.includes("STATE_UPDATEï¿½dataï¿½ï¿½typeï¿½GAME_QUESTIONS")){console.log("ðŸš¨ Received msg: ",{data:e},n);var[,e]=t.match(/ï¿½message-([^ï¿½]+)ï¿½/),n=(room=e,t.split("position").slice(1));answers=[];for(const i of n){var[,s]=i.match(/_idï¿½([^ï¿½]+)ï¿½/),o=Array.from(i.matchAll(/correctÃ£_idï¿½([^ï¿½]+)ï¿½textï¿½([^ï¿½]+)ï¿½/g)).map(([,e,t])=>({id:e,text:t})),[,r]=i.match(/ï¿½editorï¿½textï¿½([^ï¿½]+)ï¿½/);answers.push({id:s,questionText:r,correctAnswers:o})}}};let clapping=!1;const clickRepeatedly=e=>{e.click(),requestAnimationFrame(()=>clickRepeatedly(e))};let answerIndex=0,oldSend=(setInterval(()=>{if(!(!answers||1<window.__gimkitLightningWebsocket.readyState||clapping)){var e=document.querySelector("div.animated.pulse.infinite");if(e&&e.textContent.startsWith("ðŸ‘"))console.log("Game over!"),clickRepeatedly(e),clapping=!0;else{var{id:e,correctAnswers:t}=answers[answerIndex];try{window.__gimkitLightningWebsocket.send(Uint8Array.from(`Â„Â¤typeÂ¤dataÂ’Âµblueboat_SEND_MESSAGEÂƒÂ¤roomÂ®${room}Â£keyÂ±QUESTION_ANSWEREDÂ¤dataÂ‚ÂªquestionIdÂ¸${e}Â¦answerÂ¸${t[0].id}Â§optionsÂÂ¨compressÃƒÂ£nspÂ¡/`,e=>e.charCodeAt(0)))}catch(e){console.error("Error sending correct answer: "+e)}answerIndex=(answerIndex+1)%answers.length}}},750),WebSocket.prototype.send);WebSocket.prototype.send=function(e){setTimeout(()=>{answers||this.close()},5e3);var t=JSON.stringify(decoder.decode(e),null,2);return console.log("ðŸ“§ Sent msg: ",{data:e},t),this.addEventListener("message",onWsMessage.bind(this)),window.__gimkitLightningWebsocket=this,oldSend.call(this,e)};